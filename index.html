<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Congratulations</title>

<style>
html, body {
  margin: 0;
  height: 100%;
  overflow: hidden;
  background: black;
  font-family: system-ui, sans-serif;
}

/* ================= WIN PAGE ================= */
#winPage {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at top, #2a0055, #000);
  color: white;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 10;
}

.confetti {
  position: absolute;
  width: 8px;
  height: 12px;
  background: hsl(var(--h),90%,60%);
  top: -20px;
  animation: fall 4s linear infinite;
}
@keyframes fall { to { transform: translateY(120vh) rotate(720deg); } }

.glitter {
  position: absolute;
  width: 4px;
  height: 4px;
  background: gold;
  animation: fall 3s linear infinite;
}

.balloon {
  position: absolute;
  bottom: -80px;
  width: 40px;
  height: 55px;
  border-radius: 50%;
  animation: float 7s linear infinite;
}
@keyframes float { to { transform: translateY(-140vh); } }

.firework {
  position: absolute;
  width: 6px;
  height: 6px;
  background: white;
  border-radius: 50%;
  animation: boom 1.2s ease-out infinite;
}
@keyframes boom {
  from { transform: scale(0); opacity: 1; }
  to { transform: scale(12); opacity: 0; }
}

#claimBtn {
  margin-top: 24px;
  padding: 16px 30px;
  background: gold;
  color: black;
  font-weight: bold;
  border-radius: 30px;
  animation: pulse 1.2s infinite;
}
@keyframes pulse { 50% { transform: scale(1.08); } }

/* ================= CRASH PAGE ================= */
#crashPage {
  display: none;
  position: fixed;
  inset: 0;
  background: black;
  color: white;
  z-index: 20;
}

/* TERMINAL BACKGROUND (FAST GREEN) */
#terminal {
  position: fixed;
  inset: 0;
  font-family: "Courier New", monospace;
  font-size: 13px;
  line-height: 1.3;
  opacity: 0.55;
  color: #00ff66;
  padding: 14px;
  white-space: pre;
  z-index: 1;
  text-shadow: 0 0 4px rgba(0,255,100,.6);
}

/* MAIN WARNING */
#core {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  z-index: 5;
}

#core h1 {
  font-size: 34px;
  font-weight: 900;
  letter-spacing: 2px;
}

/* Subtle text instability */
@keyframes subtleJitter {
  0% { transform: translate(0,0); }
  25% { transform: translate(-1px,0); }
  50% { transform: translate(1px,0); }
  75% { transform: translate(0,1px); }
}
.subtle {
  animation: subtleJitter 0.25s infinite;
}

/* CRT scanlines */
#crashPage::after {
  content: "";
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.06),
    rgba(255,255,255,0.06) 1px,
    transparent 1px,
    transparent 3px
  );
  pointer-events: none;
  z-index: 30;
}

/* ===== HEAVY SCREEN TEARING ===== */
.tear {
  position: fixed;
  left: 0;
  width: 100%;
  height: 14px;
  background: inherit;
  z-index: 40;
  filter: brightness(140%) contrast(130%);
}

/* ===== FULL-SCREEN PANIC FLOODS ===== */
.flash {
  position: fixed;
  inset: 0;
  opacity: 0;
  z-index: 60;
  pointer-events: none;
}
#red  { background: #ff0000; }
#blue { background: #0033ff; }
</style>
</head>

<body>

<!-- WIN PAGE -->
<div id="winPage">
  <h1>üèÜ YOU WON!</h1>
  <p>Congratulations! You completed Task</p>
  <div id="claimBtn">Click here to Submit</div>
</div>

<!-- CRASH PAGE -->
<div id="crashPage">
  <pre id="terminal"></pre>

  <div id="core" class="subtle">
    <div>
      <h1>CRITICAL SYSTEM FAILURE</h1>
      <p>UNAUTHORIZED PROCESS EXECUTION</p>
      <p style="opacity:.6">DISPLAY BUFFER COMPROMISED</p>
    </div>
  </div>

  <div id="red" class="flash"></div>
  <div id="blue" class="flash"></div>
</div>

<!-- AUDIO -->
<audio id="winSound" loop>
  <source src="win-yay.mp3" type="audio/mpeg">
</audio>

<audio id="staticSound" loop>
  <source src="crash-static.mp3" type="audio/mpeg">
</audio>

<audio id="beepSound">
  <source src="system-beep.mp3" type="audio/mpeg">
</audio>

<script>
/* ===== WIN EFFECTS ===== */
const win = document.getElementById("winPage");

for(let i=0;i<80;i++){
  const c=document.createElement("div");
  c.className="confetti";
  c.style.left=Math.random()*100+"vw";
  c.style.setProperty("--h",Math.random()*360);
  win.appendChild(c);
}
for(let i=0;i<40;i++){
  const g=document.createElement("div");
  g.className="glitter";
  g.style.left=Math.random()*100+"vw";
  win.appendChild(g);
}
for(let i=0;i<10;i++){
  const b=document.createElement("div");
  b.className="balloon";
  b.style.left=Math.random()*100+"vw";
  b.style.background=`hsl(${Math.random()*360},80%,60%)`;
  win.appendChild(b);
}
setInterval(()=>{
  const f=document.createElement("div");
  f.className="firework";
  f.style.left=Math.random()*100+"vw";
  f.style.top=Math.random()*40+"vh";
  win.appendChild(f);
  setTimeout(()=>f.remove(),1200);
},900);

/* ===== FAST FAKE TERMINAL COMMANDS ===== */
const terminal = document.getElementById("terminal");
const commands = [
  ">> injecting payload into display buffer",
  ">> bypassing frame sync protection",
  ">> hijacking gpu interrupt handler",
  ">> escalating privileges [SIMULATED]",
  ">> rerouting video memory blocks",
  ">> overwriting system compositor",
  ">> forcing unauthorized draw calls",
  ">> display pipeline compromised"
];

setInterval(() => {
  terminal.textContent +=
    commands[Math.floor(Math.random()*commands.length)] + "\n";
  if (terminal.textContent.length > 4000) {
    terminal.textContent =
      terminal.textContent.slice(-3000);
  }
  terminal.scrollTop = terminal.scrollHeight;
}, 60);

/* ===== CLICK LOGIC ===== */
const winSound = document.getElementById("winSound");
const staticSound = document.getElementById("staticSound");
const beepSound = document.getElementById("beepSound");

let clickStage = 0;

document.getElementById("claimBtn").onclick = () => {
  clickStage++;

  if (clickStage === 1) {
    winSound.volume = 0.6;
    winSound.play().catch(()=>{});
    document.getElementById("claimBtn").innerText =
      "üéÅ Tap again to get reward";
    return;
  }

  winSound.pause();
  winSound.currentTime = 0;

  win.remove();
  document.getElementById("crashPage").style.display = "block";
  document.documentElement.requestFullscreen?.().catch(()=>{});

  staticSound.volume = 0.45;
  staticSound.play().catch(()=>{});

  /* BACK BLOCK (2 TIMES) */
  let backCount = 0;
  history.pushState(null,"",location.href);
  window.onpopstate = () => {
    backCount++;
    if (backCount <= 2) history.pushState(null,"",location.href);
  };

  /* MASSIVE SCREEN TEARING */
  setInterval(() => {
    for (let i = 0; i < 3; i++) {
      const t = document.createElement("div");
      t.className = "tear";
      t.style.top = Math.random()*window.innerHeight + "px";
      t.style.transform =
        `translateX(${Math.random()*120-60}px)`;
      document.body.appendChild(t);
      setTimeout(()=>t.remove(),140);
    }
  }, 70);

  /* FULL-SCREEN RED / BLUE FLASH */
  setInterval(() => {
    const r = Math.random();
    if (r > 0.9) burst("red", 120);
    else if (r > 0.85) burst("blue", 150);
  }, 450);

  /* RANDOM BEEPS */
  setInterval(() => {
    if (Math.random() > 0.8) {
      beepSound.currentTime = 0;
      beepSound.play().catch(()=>{});
    }
  }, 2400);

  /* VIBRATION */
  if ("vibrate" in navigator) {
    setInterval(() => {
      navigator.vibrate([220,60,220,60,320]);
    }, 2300);
  }
};

/* ===== MULTI-FLASH BURST ===== */
function burst(id, time) {
  const f = document.getElementById(id);
  let count = 0;
  const i = setInterval(() => {
    f.style.opacity = Math.random();
    count++;
    if (count > 5) {
      clearInterval(i);
      f.style.opacity = 0;
    }
  }, time / 5);
}
</script>

</body>
</html>
